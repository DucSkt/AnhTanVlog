{"ast":null,"code":"import _classCallCheck from \"/Users/ducskt/Projects/AnhTanVlog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ducskt/Projects/AnhTanVlog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ducskt/Projects/AnhTanVlog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ducskt/Projects/AnhTanVlog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/ducskt/Projects/AnhTanVlog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/ducskt/Projects/AnhTanVlog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ducskt/Projects/AnhTanVlog/src/views/Charts/Charts.js\";\nimport React, { Component } from 'react';\nimport Messages from \"./Messages\";\nimport Input from \"./Input\"; // eslint-disable-next-line no-undef\n\nvar SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;\nvar recognition = new SpeechRecognition();\nrecognition.continous = true;\nrecognition.interimResults = true;\nrecognition.lang = 'en-US'; //vi\n\nvar Charts =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Charts, _Component);\n\n  function Charts() {\n    var _this;\n\n    _classCallCheck(this, Charts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Charts).call(this));\n\n    _this.onSendMessage = function (message) {\n      var messages = _this.state.messages;\n      messages.push({\n        text: message,\n        member: _this.state.member\n      });\n\n      _this.setState({\n        messages: messages\n      });\n    };\n\n    _this.state = {\n      listening: false,\n      messages: [{\n        listenText: '',\n        text: \"This is a test message asdas a asd a asd asd asd as asd asd a asd asda a!\",\n        member: {\n          image: 'https://cdn.shopify.com/s/files/1/0043/8471/8938/products/155613364003514899.jpg?v=1556133795',\n          user: false,\n          color: \"blue\",\n          username: \"bluemoon\"\n        }\n      }],\n      member: {\n        image: 'https://66.media.tumblr.com/bab328ff95d644edaa180a215acce3e3/tumblr_oo7b50QrGo1tq5811o1_500.jpg',\n        user: true,\n        username: \"Duc Skt\",\n        color: \"red\"\n      }\n    };\n    _this.toggleListen = _this.toggleListen.bind(_assertThisInitialized(_this));\n    _this.handleListen = _this.handleListen.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Charts, [{\n    key: \"toggleListen\",\n    value: function toggleListen() {\n      this.setState({\n        listening: !this.state.listening\n      }, this.handleListen);\n    }\n  }, {\n    key: \"handleListen\",\n    value: function handleListen() {\n      var _this2 = this;\n\n      if (this.state.listening) recognition.start();\n      var finalTranscript = '';\n\n      recognition.onresult = function (event) {\n        var interimTranscript = '';\n\n        for (var i = event.resultIndex; i < event.results.length; i++) {\n          var transcript = event.results[i][0].transcript;\n          if (event.results[i].isFinal) finalTranscript += transcript + ' ';else interimTranscript += transcript;\n        }\n\n        _this2.setState({\n          listenText: finalTranscript\n        }); // document.getElementById('interim').innerHTML = interimTranscript;\n        // document.getElementById('final').innerHTML = finalTranscript;\n        // handle speech recognition here\n\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"My Chat App\")), React.createElement(Messages, {\n        messages: this.state.messages,\n        currentMember: this.state.member,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          position: 'fixed',\n          bottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onSendMessage: this.onSendMessage,\n        listenText: this.state.listenText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Charts;\n}(Component);\n\nexport default Charts;","map":{"version":3,"sources":["/Users/ducskt/Projects/AnhTanVlog/src/views/Charts/Charts.js"],"names":["React","Component","Messages","Input","SpeechRecognition","webkitSpeechRecognition","recognition","continous","interimResults","lang","Charts","onSendMessage","message","messages","state","push","text","member","setState","listening","listenText","image","user","color","username","toggleListen","bind","handleListen","start","finalTranscript","onresult","event","interimTranscript","i","resultIndex","results","length","transcript","isFinal","position","bottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Messages from \"./Messages\";\nimport Input from \"./Input\"\n// eslint-disable-next-line no-undef\nconst SpeechRecognition = SpeechRecognition || webkitSpeechRecognition\nconst recognition = new SpeechRecognition();\n\nrecognition.continous = true;\nrecognition.interimResults = true;\nrecognition.lang = 'en-US'; //vi\n\nclass Charts extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      listening: false,\n      messages: [\n        {\n          listenText: '',\n          text: \"This is a test message asdas a asd a asd asd asd as asd asd a asd asda a!\",\n          member: {\n            image: 'https://cdn.shopify.com/s/files/1/0043/8471/8938/products/155613364003514899.jpg?v=1556133795',\n            user: false,\n            color: \"blue\",\n            username: \"bluemoon\"\n          }\n        }\n      ],\n      member: {\n        image: 'https://66.media.tumblr.com/bab328ff95d644edaa180a215acce3e3/tumblr_oo7b50QrGo1tq5811o1_500.jpg',\n        user: true,\n        username: \"Duc Skt\",\n        color: \"red\"\n      }\n    }\n    this.toggleListen = this.toggleListen.bind(this)\n    this.handleListen = this.handleListen.bind(this)\n  }\n\n  toggleListen() {\n    this.setState({\n      listening: !this.state.listening\n    }, this.handleListen)\n  }\n\n  handleListen() {\n    if (this.state.listening) recognition.start()\n\n    let finalTranscript = ''\n    recognition.onresult = event => {\n      let interimTranscript = ''\n\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const transcript = event.results[i][0].transcript;\n        if (event.results[i].isFinal) finalTranscript += transcript + ' ';\n        else interimTranscript += transcript;\n      }\n      this.setState({listenText: finalTranscript})\n      // document.getElementById('interim').innerHTML = interimTranscript;\n      // document.getElementById('final').innerHTML = finalTranscript;\n      // handle speech recognition here\n    }\n  }\n\n  onSendMessage = (message) => {\n    const messages = this.state.messages\n    messages.push({\n      text: message,\n      member: this.state.member\n    })\n    this.setState({messages: messages})\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <h1>My Chat App</h1>\n        </div>\n        <Messages\n          messages={this.state.messages}\n          currentMember={this.state.member}\n        />\n        <div style={{position: 'fixed', bottom: 0}}>\n          <Input\n              onSendMessage={this.onSendMessage}\n              listenText={this.state.listenText}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Charts;\n"]},"metadata":{},"sourceType":"module"}